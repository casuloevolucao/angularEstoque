<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Produtos
      <small>Listagem de Produtos Desativados</small>
    </h1>

    <!-- EDITAR ROTAS -->
    <ol class="breadcrumb">
      <li><a routerLink="/admin"><i class="fa fa-dashboard"></i> Home</a></li>
      <li><a routerLink="/admin/produtos">Produtos Desativados</a></li>
      <li class="active">Todos os produtos</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box">
          <div class="box-header">
            <div class="row">
              <div class="col-12 col-md-8">
                <h3 class="box-title">Todos os produtos</h3>
              </div>
            </div>
            <div class="row" style="margin: 20px;">
              <div class="pull-left">
                <h5>Mais Ações</h5>
                <a routerLink="/admin/produtos" class="btn btn-primary">Produtos ativos</a>
              </div>
            </div>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <table class="table table-bordered table-hover" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
              <thead>
                <tr> 
                  <th>Categoria</th>
                  <th>Nome</th>
                  <th>Quantidade</th>
                  <th>Estado</th>
                  <th>Descrição</th>
                  <th>Dt Cadastro</th>
                  <th>Foto</th>
                  <th>Valor de entrada</th>
                  <th>Valor de saída</th>
                  <th>Ação</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let produto of produtos;">
                  <td>{{produto.categoria}}</td>
                  <td>{{produto.nome}}</td>
                  <td>{{produto.quantidade}}</td>
                  <td>
                  <span 
                  [class]="produto.quantidade >=6 && produto.quantidade <= 10 ? 'description-percentage text-orange': 
                  produto.quantidade == 0  ? 'description-percentage text-red':'description-percentage text-green'
                    "><i [class]="produto.quantidade >=6 && produto.quantidade <= 10 ? 'fa fa-caret-left': 
                      produto.quantidade == 0  ? 'fa fa-caret-down':'fa fa-caret-up'">
                    </i> {{produto.quantidade == 0 ? 'Fora de estoque':
                        produto.quantidade >= 6 && produto.quantidade <=10 ? 'Normal':'Aceitável'}}</span>
                    
                  </td>
                  <td>{{produto.descricao}}</td>
                  <td>{{produto.dtCadastro.toDate() | date:'medium'}}</td>
                  <td><img height="50px" width="50px"
                      [src]="produto.foto != null ? produto.foto :'../../../../assets/imgs/product.png'"></td>
                  <td>{{produto.valorEntrada}}</td>
                  <td>{{produto.valorSaida}}</td>
                  <td>
                    <button type="button" class="btn btn-success btn-block btn-flat"(click)="ativar(produto, usuario)">Ativar</button>
                    <button type="button" class="btn btn-danger btn-block btn-flat" (click)="deletar(produto, usuario)">Deletar</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>
  <!-- /.content -->
</div>
<!-- /.content-wrapper -->

<!-- <ng-template #search>
  <div class="modal-header">
    <h4 class="modal-title pull-left"> Exportar Relátorio por Data de Cadastro</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide();">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <form [formGroup]="relatorio" (ngSubmit)="pesquisar()">
    <div class="modal-body">
      <div class="form-group has-feedback">
        <label>Data Inicio</label>
        <input 
          type="text"
          class="form-control"
          autocomplete="off"
          bsDatepicker
          formControlName="dateInicio"
          [bsConfig]="datePickerConfig">
          <div
            *ngIf="relatorio.get('dateInicio').invalid && (relatorio.get('dateInicio').dirty || relatorio.get('dateInicio').touched)"
            class="alert alert-danger">
            <div *ngIf="relatorio.get('dateInicio').hasError('required')">
              O campo é requerido!
            </div>
          </div>
      </div>
      <div class="form-group has-feedback">
        <label>Data Fim</label>
        <input type="text"
          class="form-control"
          autocomplete="off"
          bsDatepicker
          formControlName="dateFim"
          [bsConfig]="datePickerConfig">
          <div
            *ngIf="relatorio.get('dateFim').invalid && (relatorio.get('dateFim').dirty || relatorio.get('dateFim').touched)"
            class="alert alert-danger">
            <div *ngIf="relatorio.get('dateFim').hasError('required')">
              O campo é requerido!
            </div>
          </div>
      </div> 
    </div>
    <div class="modal-footer">
      <div class="pull-right">
        <button type="submit" class="btn btn-primary btn-block btn-flat" [disabled]="!relatorio.valid">
          Pesquisar..
        </button>
      </div>
    </div>
  </form>
</ng-template> -->